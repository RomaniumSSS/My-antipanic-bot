[mypy]
# Python version
python_version = 3.11

# Базовые опции
warn_return_any = True
warn_unused_configs = True
warn_unused_ignores = True
warn_redundant_casts = True
warn_unreachable = True

# Строгость (начинаем мягко)
check_untyped_defs = True
# Включим позже постепенно:
disallow_untyped_defs = False
disallow_any_generics = False
disallow_incomplete_defs = False

# None checks (критично для .get_or_none())
no_implicit_optional = True
strict_optional = True

# Игнорируем библиотеки без типов
ignore_missing_imports = True

# Показывать коды ошибок
show_error_codes = True
pretty = True

# Исключения (постепенно убираем)
[mypy-tests.*]
ignore_errors = True

[mypy-migrations.*]
ignore_errors = True

# Строгие модули (постепенно добавляем)
[mypy-src.core.domain.*]
disallow_untyped_defs = True
warn_return_any = True

[mypy-src.core.use_cases.*]
disallow_untyped_defs = True

[mypy-src.storage.*]
disallow_untyped_defs = True

